[{"/Users/j/Desktop/codersx-reactjs-37/client/src/App.js":"1","/Users/j/Desktop/codersx-reactjs-37/client/src/index.js":"2","/Users/j/Desktop/codersx-reactjs-37/client/src/components/Navbar.js":"3","/Users/j/Desktop/codersx-reactjs-37/client/src/components/Signup.js":"4","/Users/j/Desktop/codersx-reactjs-37/client/src/components/Profile.js":"5","/Users/j/Desktop/codersx-reactjs-37/client/src/components/Home.js":"6","/Users/j/Desktop/codersx-reactjs-37/client/src/components/Signin.js":"7","/Users/j/Desktop/codersx-reactjs-37/client/src/components/Post.js":"8","/Users/j/Desktop/codersx-reactjs-37/client/src/components/CreatePost.js":"9","/Users/j/Desktop/codersx-reactjs-37/client/src/reducers/userReducer.js":"10"},{"size":1429,"mtime":1606907780296,"results":"11","hashOfConfig":"12"},{"size":219,"mtime":1606814750977,"results":"13","hashOfConfig":"12"},{"size":2364,"mtime":1606927686117,"results":"14","hashOfConfig":"12"},{"size":2397,"mtime":1606906527223,"results":"15","hashOfConfig":"12"},{"size":2605,"mtime":1606926463290,"results":"16","hashOfConfig":"12"},{"size":697,"mtime":1606925878830,"results":"17","hashOfConfig":"12"},{"size":2128,"mtime":1606906790008,"results":"18","hashOfConfig":"12"},{"size":1717,"mtime":1606927500083,"results":"19","hashOfConfig":"12"},{"size":2871,"mtime":1606926554962,"results":"20","hashOfConfig":"12"},{"size":232,"mtime":1606921951791,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"25"},"sfmo5t",{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"41","usedDeprecatedRules":"25"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/j/Desktop/codersx-reactjs-37/client/src/App.js",["50"],"import React, { createContext, useEffect, useReducer } from \"react\";\nimport Navbar from \"./components/Navbar\";\nimport { BrowserRouter, Switch, Route, useHistory } from \"react-router-dom\";\nimport Home from \"./components/Home\";\nimport Signup from \"./components/Signup\";\nimport Signin from \"./components/Signin\";\nimport Profile from \"./components/Profile\";\nimport CreatePost from \"./components/CreatePost\";\nimport { initialState, reducer } from \"./reducers/userReducer\";\n\nexport const UserContext = createContext();\n\nconst Routing = () => {\n  const history = useHistory();\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user) {\n      history.push(\"/\");\n    } else {\n      history.push(\"/signin\");\n    }\n  }, []);\n\n  return (\n    <Switch>\n      <Route exact path=\"/signin\">\n        <Signin />\n      </Route>\n      <Route exact path=\"/signup\">\n        <Signup />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route exact path=\"/create\">\n        <CreatePost />\n      </Route>\n      <Route exact path=\"/\">\n        <Home />\n      </Route>\n    </Switch>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <Navbar />\n        <Routing />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n",["51","52"],"/Users/j/Desktop/codersx-reactjs-37/client/src/index.js",[],["53","54"],"/Users/j/Desktop/codersx-reactjs-37/client/src/components/Navbar.js",[],"/Users/j/Desktop/codersx-reactjs-37/client/src/components/Signup.js",[],["55","56"],"/Users/j/Desktop/codersx-reactjs-37/client/src/components/Profile.js",[],"/Users/j/Desktop/codersx-reactjs-37/client/src/components/Home.js",["57","58"],"import React, { useEffect, useState } from \"react\";\nimport Post from \"./Post\";\n\nconst Home = () => {\n  const [posts, setPosts] = useState([]);\n  const [isLoading, setisLoading] = useState(false);\n\n  useEffect(() => {\n    const requestOptions = {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    };\n\n    fetch(\"/allpost\", requestOptions)\n      .then((response) => response.json())\n      .then((result) => setPosts(result.posts))\n      .catch((error) => console.log(\"error\", error));\n  }, []);\n  return (\n    <>\n      {posts.map((item, index) => {\n        return <Post {...item} />;\n      })}\n    </>\n  );\n};\n\nexport default Home;\n","/Users/j/Desktop/codersx-reactjs-37/client/src/components/Signin.js",["59","60"],"import React, { useState, useEffect, useContext } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { UserContext } from \"../App\";\nimport M from \"materialize-css\";\n\nconst Signin = () => {\n  const { state, dispatch } = useContext(UserContext);\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSignin = (e) => {\n    const requestOptions = {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ email, password }),\n    };\n\n    fetch(\"/signin\", requestOptions)\n      .then((res) => res.json())\n      .then((result) => {\n        if (result.error) {\n          M.toast({\n            html: result.error,\n            classes: \"red yellow-text\",\n          });\n        } else {\n          M.toast({\n            html: result.message,\n            classes: \"green lighten-1 white-text\",\n          });\n          localStorage.setItem(\"token\", result.token);\n          localStorage.setItem(\"user\", JSON.stringify(result.user));\n          dispatch({ type: \"USER\", payload: result.user });\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => console.log(\"err\", err));\n  };\n\n  return (\n    <div class=\"card \">\n      <h1 className=\"brand-logo\">Instagram</h1>\n      <div class=\"input-field\">\n        <input\n          id=\"email\"\n          type=\"email\"\n          class=\"validate\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n        />\n        <label for=\"email\">Email</label>\n      </div>\n      <div class=\"input-field\">\n        <input\n          id=\"password\"\n          type=\"password\"\n          class=\"validate\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n        />\n        <label for=\"password\">Password</label>\n      </div>\n      <button class=\"white-text blue lighten-2 btn\" onClick={handleSignin}>\n        Sign In\n      </button>\n      <h5 class=\"white-text\">\n        <Link to=\"/signup\">Don't have account? Sign up</Link>\n      </h5>\n    </div>\n  );\n};\n\nexport default Signin;\n","/Users/j/Desktop/codersx-reactjs-37/client/src/components/Post.js",["61"],"import React from \"react\";\nimport samplePicture from \"../assets/sample-picture.jpg\";\n\nconst Post = ({ _id, title, body, photoURL, postedBy, ...props }) => {\n  return (\n    <>\n      <div\n        class=\"card\"\n        style={{\n          maxWidth: \"550px\",\n          paddingTop: \"5px\",\n          paddingLeft: \"0px\",\n          paddingRight: \"0px\",\n        }}\n      >\n        <h5\n          className=\"left\"\n          style={{\n            marginLeft: \"10px\",\n          }}\n        >\n          {postedBy.name}\n        </h5>\n        <div\n          class=\"card-image\"\n          style={{\n            maxWidth: \"100%\",\n          }}\n        >\n          <img\n            src={photoURL}\n            style={{\n              borderTop: \"solid 1px grey\",\n              borderBottom: \"solid 1px grey\",\n            }}\n            alt=\"\"\n          />\n        </div>\n        <div\n          class=\"card__content\"\n          style={{\n            minHeigh: \"100px\",\n            textAlign: \"left\",\n            marginTop: \"15px\",\n            marginLeft: \"15px\",\n          }}\n        >\n          <i class=\"material-icons red-text\">favorite</i>\n          <i class=\"material-icons\">favorite_border</i>\n          <i class=\"material-icons\">thumb_down</i>\n          <i class=\"material-icons red-text\">thumb_up</i>\n          <p>\n            <b>{postedBy.name} </b> {title}\n          </p>\n          <p>\n            <b>someone </b> yep\n          </p>\n          <form>\n            <div class=\"input-field\">\n              <textarea id=\"comment\" class=\"materialize-textarea\"></textarea>\n              <label for=\"comment\">add your comment here ...</label>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Post;\n","/Users/j/Desktop/codersx-reactjs-37/client/src/components/CreatePost.js",["62"],"import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport M from \"materialize-css\";\n\nconst CreatePost = () => {\n  const history = useHistory();\n  const [title, setTitle] = useState(\"\");\n  const [body, setBody] = useState(\"\");\n  const [file, setFile] = useState(\"\");\n  const [photoURL, setPhotoURL] = useState(null);\n\n  const handleCreatePost = () => {\n    const data = new FormData();\n    data.append(\"file\", file);\n    data.append(\"upload_preset\", \"codersx-instagram-clone\");\n    data.append(\"cloud_name\", \"longpos\");\n    fetch(\"https://api.cloudinary.com/v1_1/longpos/image/upload\", {\n      method: \"POST\",\n      body: data,\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setPhotoURL(data.url);\n      });\n  };\n  useEffect(() => {\n    if (photoURL !== null) {\n      const requestOptions = {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        },\n        body: JSON.stringify({ title, body, photoURL }),\n      };\n      console.log(\"requestOptions.body\", requestOptions.body);\n      fetch(\"/createpost\", requestOptions)\n        .then((res) => res.json())\n        .then((result) => {\n          console.log(\"result:=>\", result);\n\n          if (result.error) {\n            M.toast({\n              html: result.error,\n              classes: \"red yellow-text\",\n            });\n          } else {\n            M.toast({\n              html: \"Upload successed!\",\n              classes: \"green lighten-1 white-text\",\n            });\n            setPhotoURL(null);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => console.log(\"err\", err));\n    }\n  }, [photoURL]);\n\n  return (\n    <div class=\"card \">\n      <image src={photoURL} alt=\"\" />\n\n      <h4>Create new post</h4>\n      <div class=\"input-field\">\n        <input\n          id=\"title\"\n          type=\"text\"\n          class=\"validate\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <label for=\"title\">title</label>\n      </div>\n      <div class=\"input-field\">\n        <input\n          id=\"body\"\n          type=\"text\"\n          class=\"validate\"\n          value={body}\n          onChange={(e) => setBody(e.target.value)}\n        />\n        <label for=\"body\">body</label>\n      </div>\n\n      <div class=\"file-field input-field\">\n        <div class=\"btn btn-small\">\n          <span>File</span>\n          <input type=\"file\" onChange={(e) => setFile(e.target.files[0])} />\n        </div>\n        <div class=\"file-path-wrapper\">\n          <input class=\"file-path validate\" type=\"text\" />\n        </div>\n      </div>\n      <button class=\"white-text blue lighten-2 btn\" onClick={handleCreatePost}>\n        Submit\n      </button>\n    </div>\n  );\n};\n\nexport default CreatePost;\n","/Users/j/Desktop/codersx-reactjs-37/client/src/reducers/userReducer.js",[],{"ruleId":"63","severity":1,"message":"64","line":23,"column":6,"nodeType":"65","endLine":23,"endColumn":8,"suggestions":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","replacedBy":"70"},{"ruleId":"67","replacedBy":"71"},{"ruleId":"69","replacedBy":"72"},{"ruleId":"67","replacedBy":"73"},{"ruleId":"69","replacedBy":"74"},{"ruleId":"75","severity":1,"message":"76","line":6,"column":10,"nodeType":"77","messageId":"78","endLine":6,"endColumn":19},{"ruleId":"75","severity":1,"message":"79","line":6,"column":21,"nodeType":"77","messageId":"78","endLine":6,"endColumn":33},{"ruleId":"75","severity":1,"message":"80","line":1,"column":27,"nodeType":"77","messageId":"78","endLine":1,"endColumn":36},{"ruleId":"75","severity":1,"message":"81","line":7,"column":11,"nodeType":"77","messageId":"78","endLine":7,"endColumn":16},{"ruleId":"75","severity":1,"message":"82","line":2,"column":8,"nodeType":"77","messageId":"78","endLine":2,"endColumn":21},{"ruleId":"63","severity":1,"message":"83","line":58,"column":6,"nodeType":"65","endLine":58,"endColumn":16,"suggestions":"84"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["85"],"no-native-reassign",["86"],"no-negated-in-lhs",["87"],["86"],["87"],["86"],["87"],"no-unused-vars","'isLoading' is assigned a value but never used.","Identifier","unusedVar","'setisLoading' is assigned a value but never used.","'useEffect' is defined but never used.","'state' is assigned a value but never used.","'samplePicture' is defined but never used.","React Hook useEffect has missing dependencies: 'body', 'history', and 'title'. Either include them or remove the dependency array.",["88"],{"desc":"89","fix":"90"},"no-global-assign","no-unsafe-negation",{"desc":"91","fix":"92"},"Update the dependencies array to be: [history]",{"range":"93","text":"94"},"Update the dependencies array to be: [body, history, photoURL, title]",{"range":"95","text":"96"},[746,748],"[history]",[1754,1764],"[body, history, photoURL, title]"]